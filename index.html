<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="تطبيق ويب حديث مع قاعدة بيانات JSON">
    <meta name="keywords" content="تطبيق ويب, JSON, حديث, متجاوب, السعودية">
    <meta name="author" content="مشروع بناء الويب">
    
    <title data-translate="site.title">مشروع بناء الويب</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="Images/favicon.ico">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- CSS -->
    <link rel="stylesheet" href="index.css">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts for Arabic support -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@100;200;300;400;500;600;700;800;900&family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- Smooth Scrolling -->
    <style>
        html {
            scroll-behavior: smooth;
        }
        
        /* Modal Background Effects */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            z-index: 40;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }
        
        .modal-backdrop.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Enhanced modal styling */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            opacity: 0;
            visibility: hidden;
            transform: scale(0.9);
            transition: all 0.3s ease-in-out;
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
            transform: scale(1);
        }
        
        .modal-content {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            max-width: 90vw;
            max-height: 90vh;
            overflow: hidden;
            transform: translateY(20px);
            transition: transform 0.3s ease-in-out;
        }
        
        .modal.active .modal-content {
            transform: translateY(0);
        }
        
        /* Body scroll lock when modal is open */
        body.modal-open {
            overflow: hidden;
        }
    </style>
    
</head>
<body class="overflow-x-hidden">
    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-container">
                <div class="nav-brand">
                    <h1 class="site-title" data-translate="site.title">مشروع بناء الويب</h1>
                </div>
                
                
                <div class="nav-menu" id="nav-menu">
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#home" class="nav-link active" data-page="home">
                                <i class="fas fa-home"></i> <span class="nav-text">الرئيسية</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#about" class="nav-link" data-page="about">
                                <i class="fas fa-info-circle"></i> <span class="nav-text">حول</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#blog" class="nav-link" data-page="blog">
                                <i class="fas fa-blog"></i> <span class="nav-text">المدونة</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#contact" class="nav-link" data-page="contact">
                                <i class="fas fa-envelope"></i> <span class="nav-text">اتصل بنا</span>
                            </a>
                        </li>
                        <li class="nav-item" id="auth-nav-item">
                            <a href="#login" class="nav-link" data-page="login">
                                <i class="fas fa-sign-in-alt"></i> <span class="nav-text">تسجيل الدخول</span>
                            </a>
                        </li>
                        <li class="nav-item" id="user-nav-profile" style="display: none;">
                            <div class="nav-user-profile" id="user-profile-dropdown">
                                <div class="nav-user-info" onclick="toggleUserDropdown()">
                                    <img id="nav-user-photo" class="nav-user-photo" style="display: none;" alt="صورة المستخدم">
                                    <div id="nav-default-photo" class="nav-user-photo-default">
                                        <i class="fas fa-user"></i>
                                    </div>
                                    <span id="nav-username" class="nav-username">المستخدم</span>
                                    <i class="fas fa-chevron-down nav-dropdown-arrow"></i>
                                </div>
                                <div class="nav-user-dropdown" id="user-dropdown-menu" style="display: none;">
                                    <div class="nav-dropdown-header">
                                        <div class="nav-dropdown-user-info">
                                            <div class="nav-dropdown-avatar">
                                                <img id="nav-dropdown-photo" class="nav-dropdown-photo" style="display: none;" alt="صورة المستخدم">
                                                <div id="nav-dropdown-default-photo" class="nav-dropdown-photo-default">
                                                    <i class="fas fa-user"></i>
                                                </div>
                                            </div>
                                            <div class="nav-dropdown-details">
                                                <div id="nav-dropdown-username" class="nav-dropdown-name">المستخدم</div>
                                                <div id="nav-dropdown-role" class="nav-dropdown-role">الدور</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="nav-dropdown-divider"></div>
                                    <div class="nav-dropdown-actions">
                                        <a href="#" class="nav-dropdown-item" onclick="goToDashboard()">
                                            <i class="fas fa-tachometer-alt"></i>
                                            <span class="dropdown-text">لوحة التحكم</span>
                                        </a>
                                        <a href="#" class="nav-dropdown-item" onclick="goToProfile()">
                                            <i class="fas fa-user-edit"></i>
                                            <span class="dropdown-text">الملف الشخصي</span>
                                        </a>
                                        <div class="nav-dropdown-divider"></div>
                                        <a href="#" class="nav-dropdown-item nav-dropdown-logout" onclick="logout()">
                                            <i class="fas fa-sign-out-alt"></i>
                                            <span class="dropdown-text">تسجيل الخروج</span>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                
                <div class="nav-toggle" id="nav-toggle">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Home Page -->
        <section id="home" class="page active h-screen overflow-hidden">
            <!-- Main Dashboard Container -->
            <div class="h-full flex flex-col">
                <!-- Header Section - Compact -->
                <div class="relative bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 text-white py-3 md:py-4 overflow-hidden flex-shrink-0">
                <!-- Animated Background Elements -->
                <div class="absolute inset-0">
                    <div class="absolute top-4 left-4 w-6 h-6 bg-blue-500 rounded-full opacity-20 animate-pulse"></div>
                    <div class="absolute top-8 right-8 w-4 h-4 bg-purple-500 rounded-full opacity-30 animate-bounce"></div>
                    <div class="absolute bottom-4 left-1/4 w-3 h-3 bg-indigo-500 rounded-full opacity-25 animate-ping"></div>
                </div>
                
                <div class="container mx-auto px-4 relative z-10">
                    <div class="flex items-center justify-between">
                        <!-- Logo and Title -->
                        <div class="flex items-center space-x-3 space-x-reverse">
                            <div class="w-10 h-10 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg flex items-center justify-center shadow-lg">
                                <i class="fas fa-building text-white text-lg"></i>
                            </div>
                            <div>
                                <h1 class="text-lg md:text-xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent">
                                    منصة بناء الويب
                                </h1>
                                <p class="text-xs text-blue-200">ربط العملاء بالمهندسين الخبراء</p>
                            </div>
                        </div>
                        
                        <!-- Quick Stats -->
                        <div class="hidden md:flex space-x-3 space-x-reverse">
                            <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-2 border border-white border-opacity-20">
                                <div class="text-sm font-bold text-white">500+</div>
                                <div class="text-xs text-blue-200">مهندس</div>
                            </div>
                            <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-2 border border-white border-opacity-20">
                                <div class="text-sm font-bold text-white">1000+</div>
                                <div class="text-xs text-blue-200">مشروع</div>
                            </div>
                            <div class="bg-white bg-opacity-10 backdrop-blur-sm rounded-lg p-2 border border-white border-opacity-20">
                                <div class="text-sm font-bold text-white">98%</div>
                                <div class="text-xs text-blue-200">نجاح</div>
                            </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="flex space-x-2 space-x-reverse">
                            <button class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 flex items-center" onclick="showLogin()">
                                <i class="fas fa-rocket ml-1"></i> ابدأ
                            </button>
                            <button class="border border-white text-white hover:bg-white hover:text-blue-900 px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-300 flex items-center" onclick="toggleExpandableSection('features')">
                                <i class="fas fa-info-circle ml-1"></i> المزيد
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Dashboard Content -->
            <div class="flex-1 bg-gray-50 overflow-hidden">
                <div class="h-full flex">
                    <!-- Left Sidebar - Quick Actions -->
                    <div class="w-1/4 bg-white border-l border-gray-200 p-4 overflow-y-auto">
                        <h3 class="text-lg font-bold text-gray-900 mb-4">الإجراءات السريعة</h3>
                        
                        <!-- Quick Action Buttons -->
                        <div class="space-y-3">
                            <button class="w-full bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-lg text-sm font-semibold transition-colors flex items-center" onclick="showLogin()">
                                <i class="fas fa-sign-in-alt ml-2"></i> تسجيل الدخول
                            </button>
                            <button class="w-full bg-green-500 hover:bg-green-600 text-white p-3 rounded-lg text-sm font-semibold transition-colors flex items-center" onclick="showPage('about')">
                                <i class="fas fa-info-circle ml-2"></i> حول المنصة
                            </button>
                            <button class="w-full bg-purple-500 hover:bg-purple-600 text-white p-3 rounded-lg text-sm font-semibold transition-colors flex items-center" onclick="showPage('contact')">
                                <i class="fas fa-envelope ml-2"></i> اتصل بنا
                            </button>
                        </div>

                        <!-- User Types -->
                        <div class="mt-6">
                            <h4 class="text-md font-semibold text-gray-700 mb-3">أنواع المستخدمين</h4>
                            <div class="space-y-2">
                                <div class="bg-blue-50 p-3 rounded-lg border border-blue-200">
                                    <div class="flex items-center">
                                        <i class="fas fa-user text-blue-500 ml-2"></i>
                                        <span class="text-sm font-medium text-blue-900">العملاء</span>
                                    </div>
                                    <p class="text-xs text-blue-700 mt-1">إدارة المشاريع</p>
                                </div>
                                <div class="bg-green-50 p-3 rounded-lg border border-green-200">
                                    <div class="flex items-center">
                                        <i class="fas fa-hard-hat text-green-500 ml-2"></i>
                                        <span class="text-sm font-medium text-green-900">المهندسين</span>
                                    </div>
                                    <p class="text-xs text-green-700 mt-1">تنفيذ المشاريع</p>
                                </div>
                                <div class="bg-purple-50 p-3 rounded-lg border border-purple-200">
                                    <div class="flex items-center">
                                        <i class="fas fa-cog text-purple-500 ml-2"></i>
                                        <span class="text-sm font-medium text-purple-900">المديرين</span>
                                    </div>
                                    <p class="text-xs text-purple-700 mt-1">إدارة النظام</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Content Area -->
                    <div class="flex-1 p-6 overflow-y-auto">
                        <!-- How It Works - Compact -->
                        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                            <h2 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-cogs text-blue-500 ml-2"></i>
                                كيف يعمل النظام
                            </h2>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="text-center p-4 bg-blue-50 rounded-lg">
                                    <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-search text-white"></i>
                                    </div>
                                    <h3 class="font-semibold text-gray-900 mb-2">1. استكشف</h3>
                                    <p class="text-sm text-gray-600">تصفح المهندسين المتاحين</p>
                                </div>
                                <div class="text-center p-4 bg-green-50 rounded-lg">
                                    <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-file-alt text-white"></i>
                                    </div>
                                    <h3 class="font-semibold text-gray-900 mb-2">2. قدم</h3>
                                    <p class="text-sm text-gray-600">أرسل طلب مشروعك</p>
                                </div>
                                <div class="text-center p-4 bg-purple-50 rounded-lg">
                                    <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-3">
                                        <i class="fas fa-handshake text-white"></i>
                                    </div>
                                    <h3 class="font-semibold text-gray-900 mb-2">3. نفذ</h3>
                                    <p class="text-sm text-gray-600">تابع تقدم المشروع</p>
                                </div>
                            </div>
                        </div>

                        <!-- Platform Features - Compact -->
                        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                            <h2 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
                                <i class="fas fa-star text-yellow-500 ml-2"></i>
                                ميزات المنصة
                            </h2>
                            <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                                <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                    <i class="fas fa-users text-blue-500 ml-2"></i>
                                    <span class="text-sm font-medium text-gray-700">أدوار متعددة</span>
                                </div>
                                <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                    <i class="fas fa-tasks text-green-500 ml-2"></i>
                                    <span class="text-sm font-medium text-gray-700">إدارة المشاريع</span>
                                </div>
                                <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                    <i class="fas fa-mobile-alt text-purple-500 ml-2"></i>
                                    <span class="text-sm font-medium text-gray-700">تصميم متجاوب</span>
                                </div>
                                <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                    <i class="fas fa-database text-yellow-500 ml-2"></i>
                                    <span class="text-sm font-medium text-gray-700">قاعدة بيانات JSON</span>
                                </div>
                                <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                    <i class="fas fa-search text-red-500 ml-2"></i>
                                    <span class="text-sm font-medium text-gray-700">بحث ذكي</span>
                                </div>
                                <div class="flex items-center p-3 bg-gray-50 rounded-lg">
                                    <i class="fas fa-chart-line text-indigo-500 ml-2"></i>
                                    <span class="text-sm font-medium text-gray-700">تحليل البيانات</span>
                                </div>
                            </div>
                        </div>

                        <!-- Expandable Sections -->
                        <div class="space-y-4">
                            <!-- Blog Section -->
                            <div class="bg-white rounded-xl shadow-lg">
                                <button class="w-full p-4 text-right flex items-center justify-between hover:bg-gray-50 transition-colors" onclick="toggleExpandableSection('blog')">
                                    <i class="fas fa-chevron-down text-gray-400 transform transition-transform" id="blog-arrow"></i>
                                    <div class="flex items-center">
                                        <i class="fas fa-blog text-blue-500 ml-2"></i>
                                        <span class="font-semibold text-gray-900">مقالات المدونة</span>
                                    </div>
                                </button>
                                <div id="blog-content" class="hidden px-4 pb-4">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div class="p-4 bg-gray-50 rounded-lg">
                                            <h4 class="font-semibold text-gray-900 mb-2">نصائح للبناء</h4>
                                            <p class="text-sm text-gray-600">أفضل الممارسات في البناء</p>
                                        </div>
                                        <div class="p-4 bg-gray-50 rounded-lg">
                                            <h4 class="font-semibold text-gray-900 mb-2">أدوات حديثة</h4>
                                            <p class="text-sm text-gray-600">أحدث الأدوات والتقنيات</p>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Contact Section -->
                            <div class="bg-white rounded-xl shadow-lg">
                                <button class="w-full p-4 text-right flex items-center justify-between hover:bg-gray-50 transition-colors" onclick="toggleExpandableSection('contact')">
                                    <i class="fas fa-chevron-down text-gray-400 transform transition-transform" id="contact-arrow"></i>
                                    <div class="flex items-center">
                                        <i class="fas fa-envelope text-green-500 ml-2"></i>
                                        <span class="font-semibold text-gray-900">معلومات الاتصال</span>
                                    </div>
                                </button>
                                <div id="contact-content" class="hidden px-4 pb-4">
                                    <div class="space-y-3">
                                        <div class="flex items-center">
                                            <i class="fas fa-phone text-blue-500 ml-2"></i>
                                            <span class="text-sm text-gray-700">+966 50 123 4567</span>
                                        </div>
                                        <div class="flex items-center">
                                            <i class="fas fa-envelope text-blue-500 ml-2"></i>
                                            <span class="text-sm text-gray-700">info@buildingplatform.com</span>
                                        </div>
                                        <div class="flex items-center">
                                            <i class="fas fa-map-marker-alt text-blue-500 ml-2"></i>
                                            <span class="text-sm text-gray-700">الرياض، المملكة العربية السعودية</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Page -->
        <section id="about" class="page">
            <div class="container">
                    <div class="text-center mb-8 md:mb-12">
                        <div class="inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full mb-4">
                            <i class="fas fa-cogs text-white text-xl"></i>
                        </div>
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-3">
                            كيف يعمل النظام
                        </h2>
                        <p class="text-base sm:text-lg md:text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed">
                            منصتنا تبسط العملية بأكملها من بداية المشروع إلى الإنجاز
                        </p>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 lg:gap-12 max-w-7xl mx-auto">
                        <!-- Step 1 -->
                        <div class="relative group">
                            <!-- Connection Line (Hidden on mobile) -->
                            <div class="hidden md:block absolute top-10 left-full w-full h-0.5 bg-gradient-to-r from-blue-500 to-green-500 transform translate-x-4 z-0"></div>
                            
                            <div class="relative bg-white rounded-2xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100">
                                <!-- Step Number Badge -->
                                <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                                    <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                                        1
                                    </div>
                                </div>
                                
                                <div class="text-center">
                                    <div class="w-20 h-20 md:w-24 md:h-24 bg-gradient-to-r from-blue-500 to-purple-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                        <i class="fas fa-search text-white text-2xl md:text-3xl"></i>
                                    </div>
                                    <h3 class="text-xl md:text-2xl font-bold text-gray-900 mb-4">استكشف المهندسين</h3>
                                    <p class="text-gray-600 leading-relaxed text-sm md:text-base">
                                        تصفح شبكة المهندسين المعتمدين لدينا. اعرض ملفاتهم الشخصية ومهاراتهم وخبراتهم ومشاريعهم السابقة للعثور على المطابق المثالي لاحتياجاتك.
                                    </p>
                                </div>
                                
                                <!-- Decorative Elements -->
                                <div class="absolute top-4 right-4 w-2 h-2 bg-blue-400 rounded-full opacity-50"></div>
                                <div class="absolute bottom-4 left-4 w-1 h-1 bg-purple-400 rounded-full opacity-50"></div>
                            </div>
                        </div>
                        
                        <!-- Step 2 -->
                        <div class="relative group">
                            <!-- Connection Line (Hidden on mobile) -->
                            <div class="hidden md:block absolute top-10 left-full w-full h-0.5 bg-gradient-to-r from-green-500 to-purple-500 transform translate-x-4 z-0"></div>
                            
                            <div class="relative bg-white rounded-2xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100">
                                <!-- Step Number Badge -->
                                <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                                    <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                                        2
                                    </div>
                                </div>
                                
                                <div class="text-center">
                                    <div class="w-20 h-20 md:w-24 md:h-24 bg-gradient-to-r from-green-500 to-blue-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                        <i class="fas fa-file-alt text-white text-2xl md:text-3xl"></i>
                                    </div>
                                    <h3 class="text-xl md:text-2xl font-bold text-gray-900 mb-4">قدم مشروعك</h3>
                                    <p class="text-gray-600 leading-relaxed text-sm md:text-base">
                                        املأ نموذج مشروع مفصل يصف متطلبات البناء والجدول الزمني والميزانية. سيقوم نظامنا بمطابقتك مع المهندسين المناسبين.
                                    </p>
                                </div>
                                
                                <!-- Decorative Elements -->
                                <div class="absolute top-4 right-4 w-2 h-2 bg-green-400 rounded-full opacity-50"></div>
                                <div class="absolute bottom-4 left-4 w-1 h-1 bg-blue-400 rounded-full opacity-50"></div>
                            </div>
                        </div>
                        
                        <!-- Step 3 -->
                        <div class="relative group">
                            <div class="relative bg-white rounded-2xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100">
                                <!-- Step Number Badge -->
                                <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                                    <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold text-sm">
                                        3
                                    </div>
                                </div>
                                
                                <div class="text-center">
                                    <div class="w-20 h-20 md:w-24 md:h-24 bg-gradient-to-r from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                        <i class="fas fa-handshake text-white text-2xl md:text-3xl"></i>
                                    </div>
                                    <h3 class="text-xl md:text-2xl font-bold text-gray-900 mb-4">تواصل وابن</h3>
                                    <p class="text-gray-600 leading-relaxed text-sm md:text-base">
                                        بمجرد قبول المهندس لمشروعك، سيقوم بإنشاء خطوات مشروع مفصلة مع الجداول الزمنية والتكاليف والأدوات. تتبع التقدم في كل خطوة.
                                    </p>
                                </div>
                                
                                <!-- Decorative Elements -->
                                <div class="absolute top-4 right-4 w-2 h-2 bg-purple-400 rounded-full opacity-50"></div>
                                <div class="absolute bottom-4 left-4 w-1 h-1 bg-pink-400 rounded-full opacity-50"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Platform Features -->
            <div class="py-8 md:py-12 lg:py-16 bg-white relative overflow-hidden">
                <!-- Background Elements -->
                <div class="absolute inset-0">
                    <div class="absolute top-20 left-10 w-32 h-32 bg-blue-100 rounded-full opacity-20"></div>
                    <div class="absolute top-40 right-20 w-24 h-24 bg-purple-100 rounded-full opacity-30"></div>
                    <div class="absolute bottom-20 left-1/4 w-28 h-28 bg-green-100 rounded-full opacity-25"></div>
                    <div class="absolute bottom-40 right-1/3 w-20 h-20 bg-yellow-100 rounded-full opacity-30"></div>
                </div>
                
                <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                    <div class="text-center mb-8 md:mb-12">
                        <div class="inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full mb-4">
                            <i class="fas fa-star text-white text-xl"></i>
                        </div>
                        <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900 mb-3">
                            ميزات المنصة
                        </h2>
                        <p class="text-base sm:text-lg md:text-xl text-gray-600 max-w-4xl mx-auto leading-relaxed">
                            كل ما تحتاجه لإدارة المشاريع بنجاح
                        </p>
                    </div>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8 max-w-7xl mx-auto">
                        <!-- Feature 1 -->
                        <div class="group relative bg-white rounded-2xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 overflow-hidden">
                            <!-- Background Gradient -->
                            <div class="absolute inset-0 bg-gradient-to-br from-blue-50 to-indigo-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            
                            <div class="relative z-10">
                                <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                    <i class="fas fa-users text-white text-xl md:text-2xl"></i>
                                </div>
                                <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-4">الوصول حسب الدور</h3>
                                <p class="text-gray-600 text-sm md:text-base leading-relaxed">
                                    لوحات تحكم منفصلة للعملاء والمهندسين والمدراء مع ميزات وأذونات خاصة بكل دور.
                                </p>
                            </div>
                            
                            <!-- Decorative Corner -->
                            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-blue-500 to-transparent rounded-bl-3xl opacity-10"></div>
                        </div>
                        
                        <!-- Feature 2 -->
                        <div class="group relative bg-white rounded-2xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 overflow-hidden">
                            <!-- Background Gradient -->
                            <div class="absolute inset-0 bg-gradient-to-br from-green-50 to-emerald-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            
                            <div class="relative z-10">
                                <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                    <i class="fas fa-tasks text-white text-xl md:text-2xl"></i>
                                </div>
                                <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-4">إدارة المشاريع</h3>
                                <p class="text-gray-600 text-sm md:text-base leading-relaxed">
                                    خطوات مشروع مفصلة مع الجداول الزمنية والتكاليف والأدوات والوثائق المصورة للشفافية الكاملة.
                                </p>
                            </div>
                            
                            <!-- Decorative Corner -->
                            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-green-500 to-transparent rounded-bl-3xl opacity-10"></div>
                        </div>
                        
                        <!-- Feature 3 -->
                        <div class="group relative bg-white rounded-2xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 overflow-hidden">
                            <!-- Background Gradient -->
                            <div class="absolute inset-0 bg-gradient-to-br from-purple-50 to-violet-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            
                            <div class="relative z-10">
                                <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-r from-purple-500 to-violet-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                    <i class="fas fa-mobile-alt text-white text-xl md:text-2xl"></i>
                                </div>
                                <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-4">التصميم المتجاوب</h3>
                                <p class="text-gray-600 text-sm md:text-base leading-relaxed">
                                    واجهة متجاوبة بالكامل تعمل بشكل مثالي على أجهزة الكمبيوتر والأجهزة اللوحية والهواتف المحمولة.
                                </p>
                            </div>
                            
                            <!-- Decorative Corner -->
                            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-purple-500 to-transparent rounded-bl-3xl opacity-10"></div>
                        </div>
                        
                        <!-- Feature 4 -->
                        <div class="group relative bg-white rounded-2xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 overflow-hidden">
                            <!-- Background Gradient -->
                            <div class="absolute inset-0 bg-gradient-to-br from-yellow-50 to-amber-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            
                            <div class="relative z-10">
                                <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-r from-yellow-500 to-amber-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                    <i class="fas fa-database text-white text-xl md:text-2xl"></i>
                                </div>
                                <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-4">قاعدة بيانات JSON</h3>
                                <p class="text-gray-600 text-sm md:text-base leading-relaxed">
                                    تخزين بيانات خفيف وفعال باستخدام ملفات JSON مع نسخ احتياطي محلي للوثوقية.
                                </p>
                            </div>
                            
                            <!-- Decorative Corner -->
                            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-yellow-500 to-transparent rounded-bl-3xl opacity-10"></div>
                        </div>
                        
                        <!-- Feature 5 -->
                        <div class="group relative bg-white rounded-2xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 overflow-hidden">
                            <!-- Background Gradient -->
                            <div class="absolute inset-0 bg-gradient-to-br from-red-50 to-rose-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            
                            <div class="relative z-10">
                                <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-r from-red-500 to-rose-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                    <i class="fas fa-search text-white text-xl md:text-2xl"></i>
                                </div>
                                <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-4">البحث الذكي</h3>
                                <p class="text-gray-600 text-sm md:text-base leading-relaxed">
                                    وظيفة بحث متقدمة للعثور على المهندسين بالاسم أو المهارات أو الموقع مع التصفية في الوقت الفعلي.
                                </p>
                            </div>
                            
                            <!-- Decorative Corner -->
                            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-red-500 to-transparent rounded-bl-3xl opacity-10"></div>
                        </div>
                        
                        <!-- Feature 6 -->
                        <div class="group relative bg-white rounded-2xl p-6 md:p-8 shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 border border-gray-100 overflow-hidden">
                            <!-- Background Gradient -->
                            <div class="absolute inset-0 bg-gradient-to-br from-indigo-50 to-blue-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            
                            <div class="relative z-10">
                                <div class="w-16 h-16 md:w-20 md:h-20 bg-gradient-to-r from-indigo-500 to-blue-500 rounded-2xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300 shadow-lg">
                                    <i class="fas fa-chart-line text-white text-xl md:text-2xl"></i>
                                </div>
                                <h3 class="text-lg md:text-xl font-bold text-gray-900 mb-4">لوحة تحليل البيانات</h3>
                                <p class="text-gray-600 text-sm md:text-base leading-relaxed">
                                    لوحة تحكم إدارية شاملة مع إحصائيات المشاريع وأداء المهندسين ونظرة عامة على النظام.
                                </p>
                            </div>
                            
                            <!-- Decorative Corner -->
                            <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-indigo-500 to-transparent rounded-bl-3xl opacity-10"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- User Types Section -->
            <div class="py-8 md:py-12 bg-white">
                <div class="container mx-auto px-6">
                    <div class="text-center mb-8">
                        <h2 class="text-2xl md:text-3xl font-bold text-gray-900 mb-4">
                            للجميع
                        </h2>
                        <p class="text-base md:text-lg text-gray-600 max-w-3xl mx-auto">
                            تجارب مخصصة لأنواع مختلفة من المستخدمين
                        </p>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
                        <!-- Client Card -->
                        <div class="bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-6 text-center border-2 border-blue-200">
                            <div class="w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-user text-white text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-blue-900 mb-3">العملاء</h3>
                            <ul class="text-blue-800 text-left space-y-1 text-sm">
                                <li><i class="fas fa-check text-green-500 mr-2"></i> تصفح ملفات المهندسين</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> إرسال طلبات المشاريع</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> تتبع تقدم المشاريع</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> عرض خطوات المشاريع</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> إدارة مشاريعك</li>
                            </ul>
                        </div>
                        
                        <!-- Engineer Card -->
                        <div class="bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-6 text-center border-2 border-green-200">
                            <div class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-hard-hat text-white text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-green-900 mb-3">المهندسين</h3>
                            <ul class="text-green-800 text-left space-y-1 text-sm">
                                <li><i class="fas fa-check text-green-500 mr-2"></i> إنشاء ملفات شخصية مفصلة</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> استقبال طلبات المشاريع</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> قبول/رفض المشاريع</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> تحديد خطوات المشاريع</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> إدارة المشاريع المقبولة</li>
                            </ul>
                        </div>
                        
                        <!-- Admin Card -->
                        <div class="bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-6 text-center border-2 border-purple-200">
                            <div class="w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                <i class="fas fa-cog text-white text-2xl"></i>
                            </div>
                            <h3 class="text-xl font-bold text-purple-900 mb-3">المديرين</h3>
                            <ul class="text-purple-800 text-left space-y-1 text-sm">
                                <li><i class="fas fa-check text-green-500 mr-2"></i> عرض جميع المهندسين</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> مراقبة حالة المشاريع</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> تتبع إحصائيات النظام</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> البحث والتصفية</li>
                                <li><i class="fas fa-check text-green-500 mr-2"></i> نظرة عامة على النظام</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="py-20 bg-gradient-to-r from-blue-600 to-purple-600 text-white">
                <div class="container mx-auto px-6 text-center">
                    <h2 class="text-4xl md:text-5xl font-bold mb-6">
                        هل أنت مستعد لبناء مشروع أحلامك؟
                    </h2>
                    <p class="text-xl mb-8 text-blue-100 max-w-3xl mx-auto">
                        انضم إلى منصتنا اليوم وتواصل مع أفضل المهندسين في الصناعة. 
                        ابدأ رحلة البناء الخاصة بك بثقة وشفافية.
                    </p>
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button class="bg-white text-blue-600 hover:bg-gray-100 px-8 py-4 rounded-xl text-lg font-semibold transition-all duration-300 transform hover:scale-105" onclick="showLogin()">
                            <i class="fas fa-user-plus mr-2"></i> إنشاء حساب
                        </button>
                        <button class="border-2 border-white text-white hover:bg-white hover:text-blue-600 px-8 py-4 rounded-xl text-lg font-semibold transition-all duration-300" onclick="showPage('about')">
                            <i class="fas fa-info-circle mr-2"></i> تعلم المزيد
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- About Page -->
        <section id="about" class="page">
            <div class="container">
                <h2 class="page-title">حول مشروعنا</h2>
                <div class="about-content">
                    <div class="about-text">
                        <p>This is a modern web application built with HTML5, CSS3, and JavaScript. It uses a JSON file as a database for data persistence, making it simple yet powerful.</p>
                        <p>Key features include:</p>
                        <ul class="feature-list">
                            <li>Responsive design for all devices</li>
                            <li>JSON-based data storage</li>
                            <li>Modern UI/UX design</li>
                            <li>Fast and lightweight</li>
                            <li>Easy to customize and extend</li>
                        </ul>
                    </div>
                    <div class="about-stats">
                        <div class="stat-item">
                            <span class="stat-number">100%</span>
                            <span class="stat-label">Responsive</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">0ms</span>
                            <span class="stat-label">Database Latency</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-number">∞</span>
                            <span class="stat-label">Scalability</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Blog Page -->
        <section id="blog" class="page">
            <div class="container">
                <h2 class="page-title">مقالات المدونة</h2>
                <div class="blog-grid" id="blog-grid">
                    <!-- سيتم تحميل مقالات المدونة ديناميكياً -->
                </div>
            </div>
        </section>

        <!-- Contact Page -->
        <section id="contact" class="page">
            <div class="container">
                <h2 class="page-title">اتصل بنا</h2>
                <div class="contact-content">
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <div>
                                <h3>البريد الإلكتروني</h3>
                                <p>admin@example.com</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <h3>الموقع</h3>
                                <p>عالم تطوير الويب</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-clock"></i>
                            <div>
                                <h3>Hours</h3>
                                <p>24/7 Online</p>
                            </div>
                        </div>
                    </div>
                    
                    <form class="contact-form" id="contact-form">
                        <div class="form-group">
                            <label for="name">الاسم</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">البريد الإلكتروني</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="message">الرسالة</label>
                            <textarea id="message" name="message" rows="5" required></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> إرسال الرسالة
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Login Page -->
        <section id="login" class="page">
            <div class="container">
                <h2 class="page-title">تسجيل الدخول</h2>
                <div class="auth-content">
                    <div class="auth-tabs">
                        <button class="auth-tab active" data-tab="login">تسجيل الدخول</button>
                        <button class="auth-tab" data-tab="register">إنشاء حساب</button>
                    </div>
                    
                    <!-- Login Form -->
                    <form class="auth-form active" id="login-form">
                        <div class="form-group">
                            <label for="login-email">البريد الإلكتروني</label>
                            <input type="email" id="login-email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="login-password">كلمة المرور</label>
                            <input type="password" id="login-password" name="password" required>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-sign-in-alt"></i> تسجيل الدخول
                        </button>
                    </form>
                    
                    <!-- Register Form -->
                    <form class="auth-form" id="register-form">
                        <div class="form-group">
                            <label for="register-username">اسم المستخدم</label>
                            <input type="text" id="register-username" name="username" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-email">البريد الإلكتروني</label>
                            <input type="email" id="register-email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-password">كلمة المرور</label>
                            <input type="password" id="register-password" name="password" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="register-role">الدور</label>
                            <select id="register-role" name="role" required>
                                <option value="">اختر الدور</option>
                                <option value="engineer">مهندس</option>
                                <option value="client">عميل</option>
                            </select>
                        </div>
                        
                        <!-- CSS linter fix -->
                        <div id="engineer-fields" class="engineer-fields" style="display: none;">
                            <div class="form-group">
                                <label for="register-experience">سنوات الخبرة</label>
                                <input type="number" id="register-experience" name="experience" min="0" max="50">
                            </div>
                            
                            <div class="form-group">
                                <label for="register-photo">الصورة الشخصية</label>
                                <input type="file" id="register-photo" name="photo" accept="image/*">
                                <small class="form-help">رفع صورة احترافية (حد أقصى 5 ميجابايت)</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="register-cv">السيرة الذاتية</label>
                                <input type="file" id="register-cv" name="cv" accept=".pdf,.doc,.docx">
                                <small class="form-help">رفع سيرتك الذاتية (PDF, DOC, DOCX - حد أقصى 10 ميجابايت)</small>
                            </div>
                            
                            <div class="form-group">
                                <label for="register-projects">المشاريع الأخيرة (وصف مختصر)</label>
                                <textarea id="register-projects" name="projects" rows="4" placeholder="اوصف مشاريعك الأخيرة والتقنيات المستخدمة والإنجازات..."></textarea>
                            </div>
                            
                                                         <div class="form-group">
                                 <label for="register-skills">المهارات والتقنيات</label>
                                 <input type="text" id="register-skills" name="skills" placeholder="مثال: JavaScript, React, Node.js, Python, AWS">
                                 <small class="form-help">افصل المهارات بفواصل</small>
                             </div>
                             
                             <div class="form-group">
                                 <label for="register-bio">نبذة شخصية/من أنا</label>
                                 <textarea id="register-bio" name="bio" rows="4" placeholder="أخبرنا عن نفسك وخلفيتك وما يدفعك..."></textarea>
                                 <small class="form-help">شارك قصتك وما يجعلك مميزاً</small>
                             </div>
                         </div>

                        <!-- Client-specific fields -->
                        <!-- CSS linter fix -->
                        <div id="client-fields" class="client-fields" style="display: none;">
                            <div class="form-info">
                                <p><i class="fas fa-info-circle"></i> كعميل، ستتمكن من إنشاء مشاريع البناء وتوظيف المهندسين بعد التسجيل.</p>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-user-plus"></i> إنشاء حساب
                        </button>
                    </form>
                </div>
            </div>
        </section>

        <!-- Dashboard Page -->
        <section id="dashboard" class="page">
            <div class="container">
                <h2 class="page-title">لوحة التحكم</h2>
                <div class="dashboard-content">
                    <div class="user-info">
                        <div class="user-avatar">
                            <img id="dashboard-user-photo" class="user-photo" style="display: none;" alt="صورة المستخدم">
                            <div id="dashboard-default-photo" class="user-photo-default">
                                <i class="fas fa-user"></i>
                            </div>
                        </div>
                        <div class="user-details">
                            <h3 id="dashboard-username">مرحباً!</h3>
                            <p id="dashboard-role">الدور: <span id="user-role"></span></p>
                            <p id="dashboard-email">البريد الإلكتروني: <span id="user-email"></span></p>
                        </div>
                                                 <div class="user-actions">
                             <button id="edit-profile-btn" class="btn btn-primary" onclick="editProfile()" style="display: none;">
                                 <i class="fas fa-edit"></i> تعديل الملف الشخصي
                             </button>
                             <button class="btn btn-secondary" onclick="logout()">
                                 <i class="fas fa-sign-out-alt"></i> تسجيل الخروج
                             </button>
                                                         <button id="explore-engineers-btn" class="btn btn-success" onclick="showEngineerExploration()" style="margin-left: var(--spacing-sm); display: none;">
                                <i class="fas fa-search"></i> استكشف المهندسين
                             </button>
                             
                         </div>
                    </div>
                    
                    
                    <div class="dashboard-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <div class="stat-content">
                                <h4>Total Posts</h4>
                                <span id="total-posts">0</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-content">
                                <h4>إجمالي المستخدمين</h4>
                                <span id="total-users">0</span>
                            </div>
                        </div>
                    </div>
                    
                                         <!-- Engineer-specific dashboard content -->
                                          <div id="engineer-dashboard" class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6" style="display: none;">
                         <!-- Engineer Dashboard Header -->
                         <div class="mb-8">
                             <div class="bg-white rounded-2xl shadow-xl p-8 border border-slate-200">
                                 <div class="text-center">
                                     <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-green-600 to-blue-600 rounded-2xl mb-4">
                                         <i class="fas fa-hard-hat text-white text-2xl"></i>
                                     </div>
                                     <h1 class="text-3xl font-bold text-slate-900 mb-2">لوحة تحكم المهندس</h1>
                                     <p class="text-slate-600 text-lg">إدارة ملفك الشخصي والطلبات والمشاريع المقبولة</p>
                                 </div>
                             </div>
                         </div>
                         
                         <!-- Enhanced Tabs -->
                         <div class="bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden mb-8">
                             <div class="border-b border-slate-200">
                                 <nav class="flex space-x-0" role="tablist">
                                     <button class="tab-btn-enhanced active flex-1 px-6 py-4 text-sm font-medium text-center border-b-2 border-transparent hover:text-slate-600 hover:border-slate-300 focus:outline-none focus:text-blue-600 focus:border-blue-500 transition-all duration-200" 
                                             data-tab="profile" onclick="switchEngineerTab('profile')">
                                         <i class="fas fa-user mr-2"></i>
                                         الملف الشخصي
                                     </button>
                                     <button class="tab-btn-enhanced flex-1 px-6 py-4 text-sm font-medium text-center border-b-2 border-transparent hover:text-slate-600 hover:border-slate-300 focus:outline-none focus:text-blue-600 focus:border-blue-500 transition-all duration-200 relative" 
                                             data-tab="requests" onclick="switchEngineerTab('requests')">
                                         <i class="fas fa-paper-plane mr-2"></i>
                                         طلبات المشاريع
                                         <span class="badge-enhanced absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center" id="requests-badge" style="display: none;">0</span>
                                     </button>
                                     <button class="tab-btn-enhanced flex-1 px-6 py-4 text-sm font-medium text-center border-b-2 border-transparent hover:text-slate-600 hover:border-slate-300 focus:outline-none focus:text-blue-600 focus:border-blue-500 transition-all duration-200" 
                                             data-tab="accepted-projects" onclick="switchEngineerTab('accepted-projects')">
                                         <i class="fas fa-check-circle mr-2"></i>
                                         المشاريع المقبولة
                                     </button>
                                 </nav>
                             </div>
                             
                             <!-- Tab Content Container -->
                             <div class="tab-content-container-enhanced">
                                 <!-- Profile Tab -->
                                 <div id="profile-tab" class="tab-content-enhanced active p-8">
                                     <!-- Profile Header Card -->
                                     <div class="bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-8 mb-8 border border-blue-200">
                                         <div class="flex flex-col md:flex-row items-center md:items-start gap-6">
                                             <div class="flex-shrink-0">
                                                 <div class="relative">
                                                     <img id="engineer-photo" src="" alt="صورة الملف الشخصي" class="w-32 h-32 rounded-2xl object-cover border-4 border-white shadow-lg" style="display: none;">
                                                     <div id="default-photo" class="w-32 h-32 rounded-2xl bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center text-white text-4xl shadow-lg">
                                                         <i class="fas fa-user"></i>
                                                     </div>
                                                 </div>
                                             </div>
                                             <div class="flex-1 text-center md:text-left">
                                                 <h2 id="engineer-name" class="text-3xl font-bold text-slate-900 mb-2">Engineer Name</h2>
                                                 <div class="flex items-center justify-center md:justify-start gap-2 mb-4">
                                                     <i class="fas fa-briefcase text-blue-600"></i>
                                                     <span id="engineer-experience" class="text-slate-600 font-medium">0</span>
                                                     <span class="text-slate-600">years of experience</span>
                                                 </div>
                                                 <div class="skills-tags-enhanced flex flex-wrap gap-2 justify-center md:justify-start" id="skills-tags">
                                                     <!-- Skills will be populated here -->
                                                 </div>
                                             </div>
                                         </div>
                                     </div>
                                     
                                     <!-- Profile Sections Grid -->
                                     <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                         <!-- CV/Resume Section -->
                                         <div class="bg-white rounded-2xl shadow-lg p-6 border border-slate-200">
                                             <div class="flex items-center gap-3 mb-4">
                                                 <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                                     <i class="fas fa-file-alt text-blue-600"></i>
                                                 </div>
                                                 <h3 class="text-xl font-semibold text-slate-900">CV/Resume</h3>
                                             </div>
                                             <div class="cv-section-enhanced">
                                                 <div id="cv-actions" class="flex gap-3" style="display: none;">
                                                     <button id="cv-preview" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2" onclick="previewCV(this.getAttribute('data-file-path'))">
                                                         <i class="fas fa-eye"></i> Preview CV
                                                     </button>
                                                     <a id="cv-download" href="#" class="flex-1 bg-slate-600 hover:bg-slate-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2" onclick="downloadFile(this.getAttribute('data-file-path'))">
                                                         <i class="fas fa-download"></i> Download CV
                                                     </a>
                                                 </div>
                                                 <p id="no-cv" class="text-slate-500 text-center py-8">No CV uploaded</p>
                                             </div>
                                         </div>
                                         
                                         <!-- المشاريع الأخيرة Section -->
                                         <div class="bg-white rounded-2xl shadow-lg p-6 border border-slate-200">
                                             <div class="flex items-center gap-3 mb-4">
                                                 <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                                     <i class="fas fa-project-diagram text-green-600"></i>
                                                 </div>
                                                 <h3 class="text-xl font-semibold text-slate-900">المشاريع الأخيرة</h3>
                                             </div>
                                             <div class="projects-content-enhanced" id="projects-content">
                                                 <p class="text-slate-500 text-center py-8">No projects listed</p>
                                             </div>
                                         </div>
                                         
                                         <!-- Bio Section -->
                                         <div class="bg-white rounded-2xl shadow-lg p-6 border border-slate-200 lg:col-span-2">
                                             <div class="flex items-center gap-3 mb-4">
                                                 <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                                     <i class="fas fa-user text-purple-600"></i>
                                                 </div>
                                                 <h3 class="text-xl font-semibold text-slate-900">نبذة شخصية/من أنا</h3>
                                             </div>
                                             <div class="bio-content-enhanced" id="bio-content">
                                                 <p class="text-slate-500 text-center py-8">No bio added yet</p>
                                             </div>
                                         </div>
                                     </div>
                                 </div>
                                 
                                 <!-- Requests Tab -->
                                 <div id="requests-tab" class="tab-content-enhanced p-8">
                                     <div class="bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden">
                                         <div class="p-6 border-b border-slate-200">
                                             <h3 class="text-2xl font-bold text-slate-900 flex items-center">
                                                 <i class="fas fa-paper-plane text-blue-600 mr-3"></i>
                                                 طلبات المشاريع
                                             </h3>
                                         </div>
                                         <div class="p-6">
                                             <div class="requests-list-enhanced" id="engineer-requests-list">
                                                 <div class="text-center py-12">
                                                     <div class="inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-2xl mb-4">
                                                         <i class="fas fa-inbox text-slate-400 text-2xl"></i>
                                                     </div>
                                                     <p class="text-slate-500 text-lg">No project requests received</p>
                                                 </div>
                                             </div>
                                         </div>
                                     </div>
                                 </div>
                                 
                                 <!-- Accepted Projects Tab -->
                                 <div id="accepted-projects-tab" class="tab-content-enhanced p-8">
                                     <div class="bg-white rounded-2xl shadow-lg border border-slate-200 overflow-hidden">
                                         <div class="p-6 border-b border-slate-200">
                                             <h3 class="text-2xl font-bold text-slate-900 flex items-center">
                                                 <i class="fas fa-check-circle text-green-600 mr-3"></i>
                                                 المشاريع المقبولة
                                             </h3>
                                         </div>
                                         <div class="p-6">
                                             <div class="accepted-projects-list-enhanced" id="accepted-projects-list">
                                                 <div class="text-center py-12">
                                                     <div class="inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-2xl mb-4">
                                                         <i class="fas fa-folder-open text-slate-400 text-2xl"></i>
                                                     </div>
                                                     <p class="text-slate-500 text-lg">No projects accepted yet</p>
                                                 </div>
                                             </div>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                     </div>
                    
                    <!-- Enhanced Project Steps Modal -->
                    <div id="project-steps-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 p-4" style="display: none;">
                        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden">
                            <!-- Enhanced Modal Header -->
                            <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-tasks text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="text-2xl font-bold">Project Steps Management</h3>
                                            <p class="text-blue-100 text-sm">Define and manage project phases</p>
                                        </div>
                                    </div>
                                    <button onclick="closeProjectStepsModal()" class="w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg flex items-center justify-center transition-all duration-200">
                                        <i class="fas fa-times text-white text-lg"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Enhanced Modal Body -->
                            <div class="p-6 overflow-y-auto max-h-[calc(90vh-200px)]">
                                <!-- Project Info Header -->
                                <div class="bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl p-6 mb-6 border border-slate-200">
                                    <div class="flex items-center gap-4">
                                        <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center">
                                            <i class="fas fa-project-diagram text-blue-600 text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 id="project-steps-title" class="text-xl font-semibold text-slate-900">Project: Loading...</h4>
                                            <p id="project-steps-client" class="text-slate-600">Client: Loading...</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Steps Container -->
                                <div class="bg-white rounded-xl border border-slate-200 overflow-hidden">
                                    <div class="bg-slate-50 px-6 py-4 border-b border-slate-200">
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                                    <i class="fas fa-list-ol text-blue-600"></i>
                                                </div>
                                                <h5 class="text-lg font-semibold text-slate-900">Project Steps</h5>
                                            </div>
                                            <button onclick="addProjectStep()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center gap-2">
                                                <i class="fas fa-plus"></i> Add Step
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div id="project-steps-list" class="p-6 space-y-4">
                                        <!-- Steps will be dynamically added here -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Enhanced Modal Footer -->
                            <div class="bg-slate-50 px-6 py-4 border-t border-slate-200 flex items-center justify-between">
                                <button onclick="closeProjectStepsModal()" class="px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors duration-200">
                                    Cancel
                                </button>
                                <button onclick="saveProjectSteps()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-colors duration-200 flex items-center gap-2">
                                    <i class="fas fa-save"></i> Save All Steps
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Enhanced Client Project Steps View Modal -->
                    <div id="client-project-steps-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 p-4" style="display: none;">
                        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden">
                            <!-- Enhanced Modal Header -->
                            <div class="bg-gradient-to-r from-green-600 to-blue-600 text-white p-6">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-eye text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="text-2xl font-bold">Project Steps</h3>
                                            <p class="text-green-100 text-sm">View project progress and details</p>
                                        </div>
                                    </div>
                                    <button onclick="closeClientProjectStepsModal()" class="w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg flex items-center justify-center transition-all duration-200">
                                        <i class="fas fa-times text-white text-lg"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Enhanced Modal Body -->
                            <div class="p-6 overflow-y-auto max-h-[calc(90vh-200px)]">
                                <!-- Project Info Header -->
                                <div class="bg-gradient-to-r from-slate-50 to-green-50 rounded-xl p-6 mb-6 border border-slate-200">
                                    <div class="flex items-center gap-4">
                                        <div class="w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center">
                                            <i class="fas fa-project-diagram text-green-600 text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 id="client-project-steps-title" class="text-xl font-semibold text-slate-900">Project: Loading...</h4>
                                            <p id="client-project-steps-engineer" class="text-slate-600">Engineer: Loading...</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Steps Container -->
                                <div class="bg-white rounded-xl border border-slate-200 overflow-hidden">
                                    <div class="bg-slate-50 px-6 py-4 border-b border-slate-200">
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center">
                                                    <i class="fas fa-list-ol text-green-600"></i>
                                                </div>
                                                <h5 class="text-lg font-semibold text-slate-900">Project Steps</h5>
                                            </div>
                                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">
                                                <i class="fas fa-eye mr-1"></i> View-only mode
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <div id="client-project-steps-list" class="p-6 space-y-4">
                                        <!-- Steps will be dynamically added here -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Enhanced Modal Footer -->
                            <div class="bg-slate-50 px-6 py-4 border-t border-slate-200 flex items-center justify-end">
                                <button onclick="closeClientProjectStepsModal()" class="bg-slate-600 hover:bg-slate-700 text-white px-6 py-2 rounded-lg transition-colors duration-200">
                                    Close
                                </button>
                            </div>
                            
                        </div>
                    </div>
                    
                    <!-- Admin Dashboard -->
                    <div id="admin-dashboard" class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6" style="display: none;">
                        <!-- Header Section -->
                        <div class="mb-8">
                            <div class="bg-white rounded-2xl shadow-xl p-8 border border-slate-200">
                                <div class="text-center mb-8">
                                    <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl mb-4">
                                        <i class="fas fa-shield-alt text-white text-2xl"></i>
                                    </div>
                                    <h1 class="text-3xl font-bold text-slate-900 mb-2">Admin Dashboard</h1>
                                    <p class="text-slate-600 text-lg">Monitor all engineers and their accepted projects</p>
                                </div>
                                
                                <!-- Admin Control Panel -->
                                <div class="bg-gradient-to-r from-slate-50 to-blue-50 rounded-xl p-6 border border-slate-200">
                                    <div class="flex items-center justify-between mb-6">
                                        <div class="flex items-center space-x-3 rtl:space-x-reverse">
                                            <div class="w-10 h-10 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center">
                                                <i class="fas fa-cogs text-white text-lg"></i>
                                            </div>
                                            <div>
                                                <h3 class="text-xl font-bold text-slate-900">Admin Control Panel</h3>
                                                <p class="text-slate-600 text-sm">Manage data and system settings</p>
                                            </div>
                                        </div>
                                        <div class="flex items-center space-x-2 rtl:space-x-reverse">
                                            <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium">
                                                <i class="fas fa-circle text-green-500 text-xs ml-1"></i>
                                                System Online
                                            </span>
                                        </div>
                                    </div>
                                    
                                    <!-- Control Buttons Grid -->
                                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                        <!-- Mock Data Section -->
                                        <div class="bg-white rounded-lg p-4 border border-slate-200 shadow-sm">
                                            <div class="flex items-center mb-3">
                                                <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-lg flex items-center justify-center ml-2">
                                                    <i class="fas fa-database text-white text-sm"></i>
                                                </div>
                                                <h4 class="font-semibold text-slate-900">Mock Data</h4>
                                            </div>
                                            <div class="space-y-2">
                                                <button class="w-full bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center" onclick="generateMockData()">
                                                    <i class="fas fa-plus ml-1"></i>
                                                    إنشاء بيانات تجريبية
                                                </button>
                                                <button class="w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center" onclick="clearCacheAndReload()">
                                                    <i class="fas fa-sync-alt ml-1"></i>
                                                    تحديث البيانات
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- System Management -->
                                        <div class="bg-white rounded-lg p-4 border border-slate-200 shadow-sm">
                                            <div class="flex items-center mb-3">
                                                <div class="w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg flex items-center justify-center ml-2">
                                                    <i class="fas fa-tools text-white text-sm"></i>
                                                </div>
                                                <h4 class="font-semibold text-slate-900">System Tools</h4>
                                            </div>
                                            <div class="space-y-2">
                                                <button class="w-full bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center" onclick="addTestEngineers()">
                                                    <i class="fas fa-user-plus ml-1"></i>
                                                    إضافة مهندسين تجريبيين
                                                </button>
                                                <button class="w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center" onclick="clearAllData()">
                                                    <i class="fas fa-trash ml-1"></i>
                                                    مسح جميع البيانات
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- Debug Tools -->
                                        <div class="bg-white rounded-lg p-4 border border-slate-200 shadow-sm">
                                            <div class="flex items-center mb-3">
                                                <div class="w-8 h-8 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center ml-2">
                                                    <i class="fas fa-bug text-white text-sm"></i>
                                                </div>
                                                <h4 class="font-semibold text-slate-900">Debug Tools</h4>
                                            </div>
                                            <div class="space-y-2">
                                                <button class="w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center" onclick="debugData()">
                                                    <i class="fas fa-search ml-1"></i>
                                                    فحص البيانات
                                                </button>
                                                <button class="w-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center" onclick="simpleTest()">
                                                    <i class="fas fa-magic ml-1"></i>
                                                    اختبار بسيط
                                                </button>
                                            </div>
                                        </div>
                                        
                                        <!-- Quick Actions -->
                                        <div class="bg-white rounded-lg p-4 border border-slate-200 shadow-sm">
                                            <div class="flex items-center mb-3">
                                                <div class="w-8 h-8 bg-gradient-to-r from-pink-500 to-rose-500 rounded-lg flex items-center justify-center ml-2">
                                                    <i class="fas fa-bolt text-white text-sm"></i>
                                                </div>
                                                <h4 class="font-semibold text-slate-900">Quick Actions</h4>
                                            </div>
                                            <div class="space-y-2">
                                                <button class="w-full bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center" onclick="testClientDashboard()">
                                                    <i class="fas fa-vial ml-1"></i>
                                                    اختبار لوحة التحكم
                                                </button>
                                                <button class="w-full bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center" onclick="createTestClientData()">
                                                    <i class="fas fa-users ml-1"></i>
                                                    إنشاء بيانات عملاء
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- System Status -->
                                    <div class="mt-6 pt-4 border-t border-slate-200">
                                        <div class="flex items-center justify-between text-sm">
                                            <div class="flex items-center space-x-4 rtl:space-x-reverse">
                                                <div class="flex items-center">
                                                    <div class="w-2 h-2 bg-green-500 rounded-full ml-2"></div>
                                                    <span class="text-slate-600">Database: Connected</span>
                                                </div>
                                                <div class="flex items-center">
                                                    <div class="w-2 h-2 bg-blue-500 rounded-full ml-2"></div>
                                                    <span class="text-slate-600">Cache: Active</span>
                                                </div>
                                                <div class="flex items-center">
                                                    <div class="w-2 h-2 bg-purple-500 rounded-full ml-2"></div>
                                                    <span class="text-slate-600">Mock Data: Ready</span>
                                                </div>
                                            </div>
                                            <div class="text-slate-500">
                                                <i class="fas fa-clock ml-1"></i>
                                                Last updated: <span id="last-updated-time">Just now</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Overview Cards -->
                        <div class="mb-8">
                            <h2 class="text-2xl font-bold text-slate-900 mb-6 flex items-center">
                                <i class="fas fa-chart-bar text-blue-600 mr-3"></i>
                                Overview
                            </h2>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <!-- Total Engineers Card -->
                                <div class="bg-white rounded-2xl shadow-lg p-6 border border-slate-200 hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="text-slate-600 text-sm font-medium">إجمالي المهندسين</p>
                                            <p class="text-3xl font-bold text-slate-900 mt-2" id="total-engineers">0</p>
                                        </div>
                                        <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-blue-600 rounded-xl flex items-center justify-center">
                                            <i class="fas fa-users text-white text-xl"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Accepted Projects Card -->
                                <div class="bg-white rounded-2xl shadow-lg p-6 border border-slate-200 hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="text-slate-600 text-sm font-medium">Accepted Projects</p>
                                            <p class="text-3xl font-bold text-slate-900 mt-2" id="total-projects">0</p>
                                        </div>
                                        <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-green-600 rounded-xl flex items-center justify-center">
                                            <i class="fas fa-tasks text-white text-xl"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Active Projects Card -->
                                <div class="bg-white rounded-2xl shadow-lg p-6 border border-slate-200 hover:shadow-xl transition-all duration-300 hover:-translate-y-1">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <p class="text-slate-600 text-sm font-medium">المشاريع النشطة</p>
                                            <p class="text-3xl font-bold text-slate-900 mt-2" id="active-projects">0</p>
                                        </div>
                                        <div class="w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center">
                                            <i class="fas fa-clock text-white text-xl"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Engineers Table Section -->
                        <div class="bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden">
                            <div class="p-6 border-b border-slate-200">
                                <h2 class="text-2xl font-bold text-slate-900 flex items-center">
                                    <i class="fas fa-table text-blue-600 mr-3"></i>
                                    Engineers & Their Projects
                                </h2>
                            </div>
                            
                            <!-- Enhanced Search Bar -->
                            <div class="p-6 bg-slate-50 border-b border-slate-200">
                                <div class="relative max-w-md">
                                    <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                        <i class="fas fa-search text-slate-400"></i>
                                    </div>
                                    <input type="text" 
                                           id="admin-search-input" 
                                           placeholder="ابحث عن المهندسين بالاسم..." 
                                           class="block w-full pl-10 pr-12 py-3 border border-slate-300 rounded-xl text-slate-900 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200">
                                    <button type="button" 
                                            id="clear-search-btn" 
                                            class="absolute inset-y-0 right-0 pr-3 flex items-center hidden" 
                                            title="Clear search">
                                        <i class="fas fa-times text-slate-400 hover:text-slate-600 transition-colors"></i>
                                    </button>
                                </div>
                                <div class="mt-3">
                                    <span id="search-results-count" class="text-sm text-slate-600 font-medium">Showing all engineers</span>
                                </div>
                            </div>
                            
                            <!-- User Management CRUD Table -->
                        <div class="bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden">
                            <!-- Table Header with Actions -->
                            <div class="px-6 py-4 border-b border-slate-200 bg-slate-50">
                                <div class="flex items-center justify-between">
                                    <h3 class="text-lg font-semibold text-slate-900">User Management</h3>
                                    <div class="flex items-center gap-3">
                                        <button onclick="openAddUserModal()" class="btn btn-primary">
                                            <i class="fas fa-plus"></i> Add User
                                        </button>
                                        <button onclick="refreshUsersTable()" class="btn btn-secondary">
                                            <i class="fas fa-sync-alt"></i> Refresh
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Enhanced Table -->
                            <div class="overflow-x-auto">
                                <table class="min-w-full divide-y divide-slate-200">
                                    <thead class="bg-slate-50">
                                        <tr>
                                            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider">
                                                <input type="checkbox" id="select-all-users" onchange="toggleSelectAllUsers()">
                                            </th>
                                            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider">User</th>
                                            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider">Role</th>
                                            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider">Email</th>
                                            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider">Experience</th>
                                            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider">Skills</th>
                                            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider">Created</th>
                                            <th class="px-6 py-4 text-left text-xs font-semibold text-slate-600 uppercase tracking-wider">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="admin-users-table" class="bg-white divide-y divide-slate-200">
                                        <!-- Table rows will be dynamically added here -->
                                    </tbody>
                                </table>
                            </div>
                            
                            <!-- Table Footer -->
                            <div class="px-6 py-4 border-t border-slate-200 bg-slate-50">
                                <div class="flex items-center justify-between">
                                    <div class="text-sm text-slate-600">
                                        <span id="users-count">0</span> users total
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <button id="bulk-delete-btn" onclick="bulkDeleteUsers()" class="btn btn-danger" style="display: none;">
                                            <i class="fas fa-trash"></i> Delete Selected
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        </div>
                        
                        <!-- Rejected Projects Section -->
                        <div class="mt-8 bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden">
                            <div class="p-6 border-b border-slate-200">
                                <h2 class="text-2xl font-bold text-slate-900 flex items-center">
                                    <i class="fas fa-exclamation-triangle text-red-600 mr-3"></i>
                                    المشاريع المرفوضة
                                </h2>
                                <p class="text-slate-600 mt-2">المشاريع التي رفضها المهندسون وتحتاج إلى إعادة تعيين</p>
                            </div>
                            <div class="p-6">
                                <div id="rejected-projects-list" class="space-y-4">
                                    <div class="text-center py-12">
                                        <div class="inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-2xl mb-4">
                                            <i class="fas fa-inbox text-red-400 text-2xl"></i>
                                        </div>
                                        <p class="text-slate-600 text-lg">No rejected projects found</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Project Details Section -->
                        <div class="mt-8 bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden">
                            <div class="p-6 border-b border-slate-200">
                                <h2 class="text-2xl font-bold text-slate-900 flex items-center">
                                    <i class="fas fa-list-alt text-blue-600 mr-3"></i>
                                    Project Details
                                </h2>
                            </div>
                            <div id="admin-project-details" class="p-6">
                                <div class="text-center py-12">
                                    <div class="inline-flex items-center justify-center w-16 h-16 bg-slate-100 rounded-2xl mb-4">
                                        <i class="fas fa-mouse-pointer text-slate-400 text-2xl"></i>
                                    </div>
                                    <p class="text-slate-600 text-lg">Select an engineer from the table above to view their project details</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Reassign Project Modal -->
                    <div id="reassign-project-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 p-4" style="display: none;">
                        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden">
                            <!-- Modal Header -->
                            <div class="bg-gradient-to-r from-orange-600 to-red-600 text-white p-6">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                                            <i class="fas fa-exchange-alt text-white text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="text-2xl font-bold">Reassign Project</h3>
                                            <p class="text-orange-100 text-sm">Assign rejected project to another engineer</p>
                                        </div>
                                    </div>
                                    <button onclick="closeReassignModal()" class="w-10 h-10 bg-white bg-opacity-20 hover:bg-opacity-30 rounded-lg flex items-center justify-center transition-all duration-200">
                                        <i class="fas fa-times text-white text-lg"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Modal Body -->
                            <div class="p-6 overflow-y-auto max-h-[calc(90vh-200px)]">
                                <!-- Project Info -->
                                <div class="bg-gradient-to-r from-slate-50 to-orange-50 rounded-xl p-6 mb-6 border border-slate-200">
                                    <div class="flex items-center gap-4">
                                        <div class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center">
                                            <i class="fas fa-project-diagram text-orange-600 text-xl"></i>
                                        </div>
                                        <div>
                                            <h4 id="reassign-project-title" class="text-xl font-semibold text-slate-900">Project: Loading...</h4>
                                            <p id="reassign-project-client" class="text-slate-600">Client: Loading...</p>
                                            <p id="reassign-rejected-by" class="text-red-600 text-sm">Rejected by: Loading...</p>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Available Engineers -->
                                <div class="bg-white rounded-xl border border-slate-200 overflow-hidden">
                                    <div class="bg-slate-50 px-6 py-4 border-b border-slate-200">
                                        <div class="flex items-center gap-3">
                                            <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center">
                                                <i class="fas fa-users text-blue-600"></i>
                                            </div>
                                            <h5 class="text-lg font-semibold text-slate-900">المهندسين المتاحين</h5>
                                        </div>
                                    </div>
                                    
                                    <div id="available-engineers-list" class="p-6 space-y-4">
                                        <!-- Engineers will be dynamically added here -->
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Modal Footer -->
                            <div class="bg-slate-50 px-6 py-4 border-t border-slate-200 flex items-center justify-between">
                                <button onclick="closeReassignModal()" class="px-6 py-2 border border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors duration-200">
                                    Cancel
                                </button>
                                <button id="reassign-btn" onclick="reassignProject()" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg transition-colors duration-200 flex items-center gap-2" disabled>
                                    <i class="fas fa-exchange-alt"></i> Reassign Project
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Client Dashboard (Separate from Engineer Dashboard) -->
                    <div id="client-dashboard" class="client-dashboard" style="display: none;">
                        <div class="client-welcome">
                            <h3 data-translate="forms.welcome">Welcome, <span id="client-name">Client</span>!</h3>
                            <p data-translate="forms.clientInfo">Manage your building projects and connect with qualified engineers</p>
                            
                            <!-- Admin Debug Buttons - Only visible for admin users -->
                            <div id="admin-debug-buttons" class="admin-debug-section" style="display: none;">
                                <div class="debug-buttons-container" style="margin-top: var(--spacing-md); padding: var(--spacing-md); background: var(--gray-50); border-radius: var(--border-radius-md); border: 1px solid var(--gray-200);">
                                    <h5 style="color: var(--gray-700); margin-bottom: var(--spacing-sm); font-size: var(--font-size-sm);">
                                        <i class="fas fa-shield-alt"></i> Admin Debug Tools
                                    </h5>
                                    <div class="debug-buttons-grid" style="display: flex; flex-wrap: wrap; gap: var(--spacing-sm);">
                                        <button class="btn btn-outline btn-sm" onclick="debugData()" data-translate="forms.debugData">
                                            <i class="fas fa-bug"></i> Debug Data
                                        </button>
                                        <button class="btn btn-outline btn-sm" onclick="addTestEngineers()" data-translate="forms.addTestEngineers">
                                            <i class="fas fa-plus"></i> Add Test Engineers
                                        </button>
                                        <button class="btn btn-outline btn-sm" onclick="clearAllData()" data-translate="forms.clearData">
                                            <i class="fas fa-trash"></i> Clear Data
                                        </button>
                                        <button class="btn btn-outline btn-sm" onclick="testClientDashboard()" data-translate="forms.testDashboard">
                                            <i class="fas fa-vial"></i> Test Dashboard
                                        </button>
                                        <button class="btn btn-outline btn-sm" onclick="createTestClientData()" data-translate="forms.createTestData">
                                            <i class="fas fa-database"></i> Create Test Data
                                        </button>
                                        <button class="btn btn-outline btn-sm" onclick="simpleTest()">
                                            <i class="fas fa-magic"></i> Simple Test
                                        </button>
                                        <button class="btn btn-primary btn-sm" onclick="generateMockData()" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; color: white;">
                                            <i class="fas fa-database"></i> إنشاء بيانات تجريبية
                                        </button>
                                        <button class="btn btn-warning btn-sm" onclick="clearCacheAndReload()" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border: none; color: white;">
                                            <i class="fas fa-sync-alt"></i> تحديث البيانات
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Workflow Steps Indicator -->
                        <div class="workflow-steps">
                            <div class="step active" id="step-1">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h4>استكشف المهندسين</h4>
                                    <p>تصفح المهندسين المتاحين وخبراتهم</p>
                                </div>
                            </div>
                            <div class="step" id="step-2">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h4>إنشاء المشروع</h4>
                                    <p>حدد متطلبات مشروع البناء الخاص بك</p>
                                </div>
                            </div>
                            <div class="step" id="step-3">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h4>اختر المهندس</h4>
                                    <p>اختر مهندساً لقيادة مشروعك</p>
                                </div>
                            </div>
                            <div class="step" id="step-4">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h4>إرسال الطلب</h4>
                                    <p>أرسل طلب المشروع للمهندس المختار</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="client-actions">
                            <div class="action-card primary-action">
                                <div class="action-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="action-content">
                                    <h4>الخطوة 1: استكشف المهندسين المتاحين</h4>
                                    <p>أولاً، تصفح واستكشف جميع المهندسين المتاحين لفهم مهاراتهم وخبراتهم</p>
                                    <button class="btn btn-primary" onclick="startEngineerExploration()">
                                        <i class="fas fa-search"></i> تصفح المهندسين
                                    </button>
                                </div>
                            </div>
                            
                            <div class="action-card disabled-action" id="create-project-card">
                                <div class="action-icon">
                                    <i class="fas fa-building"></i>
                                </div>
                                <div class="action-content">
                                    <h4>الخطوة 2: إنشاء مشروع البناء</h4>
                                    <p>بعد استكشاف المهندسين، أنشئ مشروع البناء الخاص بك مع المتطلبات التفصيلية</p>
                                    <button class="btn btn-secondary" onclick="openProjectForm()" disabled>
                                        <i class="fas fa-plus"></i> إنشاء المشروع
                                    </button>
                                    <small class="action-note">أكمل الخطوة 1 أولاً</small>
                                </div>
                            </div>
                            
                            <div class="action-card">
                                <div class="action-icon">
                                    <i class="fas fa-paper-plane"></i>
                                </div>
                                <div class="action-content">
                                    <h4>طلبات المشاريع</h4>
                                    <p>عرض وإدارة طلبات مشاريعك للمهندسين</p>
                                    <button class="btn btn-info" onclick="showProjectRequests()">
                                        <i class="fas fa-list"></i> عرض الطلبات
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- My Projects Section -->
                        <div class="client-section">
                            <h4><i class="fas fa-project-diagram"></i> مشاريع البناء الخاصة بي</h4>
                            <div class="projects-list" id="client-projects-list">
                                <p class="text-muted">لم يتم إنشاء مشاريع بعد</p>
                            </div>
                        </div>
                        
                        <!-- Engineers Browser (Initially Hidden) -->
                        <div id="engineers-browser" class="client-section" style="display: none;">
                            <h4><i class="fas fa-users"></i> المهندسين المتاحين</h4>
                            <div class="search-controls">
                                <input type="text" id="engineer-search" class="search-input" placeholder="ابحث عن المهندسين بالمهارات والخبرة...">
                                <button class="btn btn-primary" onclick="searchEngineers()">
                                    <i class="fas fa-search"></i> بحث
                                </button>
                                <button class="btn btn-secondary" onclick="hideEngineersSection()">
                                    <i class="fas fa-times"></i> إغلاق
                                </button>
                            </div>
                            <div class="engineers-list" id="engineers-list">
                                <p class="text-muted">لم يتم العثور على مهندسين</p>
                            </div>
                        </div>
                        
                        <!-- Project Requests Section (Initially Hidden) -->
                        <div id="project-requests-section" class="client-section" style="display: none;">
                            <h4><i class="fas fa-paper-plane"></i> طلبات مشاريعي</h4>
                            <div class="requests-controls">
                                <button class="btn btn-secondary" onclick="hideProjectRequestsSection()">
                                    <i class="fas fa-times"></i> إغلاق
                                </button>
                            </div>
                            <div class="requests-list" id="requests-list">
                                <p class="text-muted">لم يتم العثور على طلبات مشاريع</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Edit Profile Form (Hidden by default) -->
                    <div id="edit-profile-form" class="edit-profile-form" style="display: none;">
                             <h3><i class="fas fa-edit"></i> تعديل الملف الشخصي</h3>
                             <form id="profile-edit-form">
                                 <div class="form-group">
                                     <label for="edit-username">اسم المستخدم</label>
                                     <input type="text" id="edit-username" name="username" required>
                                 </div>
                                 
                                 <div class="form-group">
                                     <label for="edit-email">البريد الإلكتروني</label>
                                     <input type="email" id="edit-email" name="email" required>
                                 </div>
                                 
                                 <div class="form-group">
                                     <label for="edit-experience">سنوات الخبرة</label>
                                     <input type="number" id="edit-experience" name="experience" min="0" max="50">
                                 </div>
                                 
                                 <div class="form-group">
                                     <label for="edit-photo">صورة الملف الشخصي</label>
                                     <input type="file" id="edit-photo" name="photo" accept="image/*">
                                     <small class="form-help">رفع صورة احترافية (حد أقصى 5 ميجابايت)</small>
                                 </div>
                                 
                                 <div class="form-group">
                                     <label for="edit-cv">السيرة الذاتية</label>
                                     <input type="file" id="edit-cv" name="cv" accept=".pdf,.doc,.docx">
                                     <small class="form-help">رفع سيرتك الذاتية (PDF, DOC, DOCX - حد أقصى 10 ميجابايت)</small>
                                 </div>
                                 
                                 <div class="form-group">
                                     <label for="edit-projects">المشاريع الأخيرة (وصف مختصر)</label>
                                     <textarea id="edit-projects" name="projects" rows="4" placeholder="اوصف مشاريعك الأخيرة والتقنيات المستخدمة والإنجازات..."></textarea>
                                 </div>
                                 
                                 <div class="form-group">
                                     <label for="edit-skills">المهارات والتقنيات</label>
                                     <input type="text" id="edit-skills" name="skills" placeholder="مثال: JavaScript, React, Node.js, Python, AWS">
                                     <small class="form-help">افصل المهارات بفواصل</small>
                                 </div>
                                 
                                 <div class="form-group">
                                     <label for="edit-bio">نبذة شخصية/من أنا</label>
                                     <textarea id="edit-bio" name="bio" rows="4" placeholder="أخبرنا عن نفسك وخلفيتك وما يدفعك..."></textarea>
                                     <small class="form-help">شارك قصتك وما يجعلك مميزاً</small>
                                 </div>
                                 
                                 <div class="form-actions">
                                     <button type="submit" class="btn btn-primary">
                                         <i class="fas fa-save"></i> حفظ التغييرات
                                     </button>
                                     <button type="button" class="btn btn-secondary" onclick="cancelEdit()">
                                         <i class="fas fa-times"></i> إلغاء
                                     </button>
                                 </div>
                             </form>
                         </div>
                 </div>
             </div>
         </section>
    </main>

    <!-- Building Project Form Modal -->
    <div id="project-form-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[95vh] overflow-hidden transform scale-95 transition-all duration-300 ease-in-out">
                <!-- Modal Header -->
                <div class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3 rtl:space-x-reverse">
                            <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-building text-xl"></i>
            </div>
                            <h3 class="text-2xl font-bold">إنشاء مشروع البناء</h3>
                        </div>
                        <button onclick="closeProjectForm()" class="text-white hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>

                <!-- Modal Body -->
                <div class="p-6 overflow-y-auto max-h-[calc(90vh-140px)]">
                    <form id="building-project-form" class="space-y-8">
                        
                        <!-- Step 1: Basic Information -->
                        <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                            <div class="flex items-center mb-6">
                                <div class="w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold">1</div>
                                <h4 class="text-xl font-semibold text-gray-900 mr-3">المعلومات الأساسية</h4>
                        </div>
                        
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-2">
                                    <label for="project-name" class="block text-sm font-medium text-gray-700">اسم المشروع *</label>
                                    <input type="text" id="project-name" name="projectName" required 
                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors"
                                           placeholder="مثال: بيت أحلامي">
                        </div>
                        
                                <div class="space-y-2">
                                    <label for="project-type" class="block text-sm font-medium text-gray-700">نوع المبنى *</label>
                                    <select id="project-type" name="projectType" required 
                                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors">
                                        <option value="">اختر نوع المبنى</option>
                                        <option value="residential-house">منزل سكني</option>
                                        <option value="apartment">مبنى سكني</option>
                                        <option value="commercial">مبنى تجاري</option>
                                        <option value="warehouse">مستودع</option>
                                        <option value="office">مبنى مكتبي</option>
                                        <option value="villa">فيلا</option>
                                        <option value="duplex">دوبلكس</option>
                                        <option value="other">أخرى</option>
                                    </select>
                        </div>
                    </div>

                            <div class="mt-6 space-y-2">
                                <label for="project-address" class="block text-sm font-medium text-gray-700">عنوان المشروع *</label>
                                <textarea id="project-address" name="address" required rows="3"
                                          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors resize-none"
                                          placeholder="العنوان الكامل حيث سيتم بناء المبنى"></textarea>
                            </div>
                        </div>
                        
                        <!-- Step 2: Building Specifications -->
                        <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                            <div class="flex items-center mb-6">
                                <div class="w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center text-sm font-bold">2</div>
                                <h4 class="text-xl font-semibold text-gray-900 mr-3">مواصفات المبنى</h4>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                <div class="space-y-2">
                                    <label for="building-size" class="block text-sm font-medium text-gray-700">مساحة المبنى (قدم²) *</label>
                                    <input type="number" id="building-size" name="buildingSize" required min="1" 
                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"
                                           placeholder="مثال: 2500">
                        </div>
                        
                                <div class="space-y-2">
                                    <label for="lot-size" class="block text-sm font-medium text-gray-700">مساحة الأرض (قدم²)</label>
                                    <input type="number" id="lot-size" name="lotSize" min="1" 
                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"
                                           placeholder="مثال: 5000">
                                    <p class="text-xs text-gray-500">مساحة الأرض/القطعة</p>
                            </div>
                            
                                <div class="space-y-2">
                                    <label for="floors-count" class="block text-sm font-medium text-gray-700">عدد الطوابق *</label>
                                    <input type="number" id="floors-count" name="floorsCount" required min="1" max="10" 
                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-colors"
                                           placeholder="مثال: 2">
                            </div>
                        </div>
                    </div>

                        <!-- Step 3: Project Documents -->
                        <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                            <div class="flex items-center mb-6">
                                <div class="w-8 h-8 bg-purple-600 text-white rounded-full flex items-center justify-center text-sm font-bold">3</div>
                                <h4 class="text-xl font-semibold text-gray-900 mr-3">وثائق المشروع</h4>
                        </div>
                            <p class="text-gray-600 mb-6">يرجى الإجابة على الأسئلة التالية ورفع الوثائق المطلوبة</p>
                            
                            <div class="space-y-6">
                                <!-- Question 1: Property Deed -->
                                <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                                    <div class="flex items-center mb-4">
                                        <i class="fas fa-home text-purple-600 text-xl ml-3"></i>
                                        <h5 class="text-lg font-semibold text-gray-900">هل يوجد صك ملكية للأرض؟</h5>
                        </div>
                        
                                    <div class="flex space-x-4 rtl:space-x-reverse mb-4">
                                        <label class="flex items-center cursor-pointer">
                                            <input type="radio" name="hasPropertyDeed" value="yes" onchange="toggleDocumentUpload('property-deed', this.value)"
                                                   class="w-5 h-5 text-purple-600 border-gray-300 focus:ring-purple-500">
                                            <span class="mr-2 text-gray-700 font-medium">نعم</span>
                                </label>
                                        <label class="flex items-center cursor-pointer">
                                            <input type="radio" name="hasPropertyDeed" value="no" onchange="toggleDocumentUpload('property-deed', this.value)"
                                                   class="w-5 h-5 text-purple-600 border-gray-300 focus:ring-purple-500">
                                            <span class="mr-2 text-gray-700 font-medium">لا</span>
                                </label>
                                    </div>
                                    
                                    <div id="property-deed-upload" class="hidden">
                                        <div class="border-2 border-dashed border-purple-300 rounded-lg p-6 text-center hover:border-purple-400 transition-colors">
                                            <i class="fas fa-cloud-upload-alt text-purple-500 text-3xl mb-3"></i>
                                            <p class="text-gray-700 font-medium mb-2">رفع صك الملكية</p>
                                            <input type="file" id="property-deed-file" name="propertyDeedFile" accept="image/*,.pdf" multiple
                                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                            <p class="text-sm text-gray-500 mt-2">يمكن رفع عدة صور أو ملف PDF</p>
                                            <div id="property-deed-preview" class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-4"></div>
                            </div>
                        </div>
                    </div>

                                <!-- Question 2: Building Permit -->
                                <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                                    <div class="flex items-center mb-4">
                                        <i class="fas fa-clipboard-check text-purple-600 text-xl ml-3"></i>
                                        <h5 class="text-lg font-semibold text-gray-900">هل يوجد رخصة بناء؟</h5>
                                    </div>
                                    
                                    <div class="flex space-x-4 rtl:space-x-reverse mb-4">
                                        <label class="flex items-center cursor-pointer">
                                            <input type="radio" name="hasBuildingPermit" value="yes" onchange="toggleDocumentUpload('building-permit', this.value)"
                                                   class="w-5 h-5 text-purple-600 border-gray-300 focus:ring-purple-500">
                                            <span class="mr-2 text-gray-700 font-medium">نعم</span>
                                </label>
                                        <label class="flex items-center cursor-pointer">
                                            <input type="radio" name="hasBuildingPermit" value="no" onchange="toggleDocumentUpload('building-permit', this.value)"
                                                   class="w-5 h-5 text-purple-600 border-gray-300 focus:ring-purple-500">
                                            <span class="mr-2 text-gray-700 font-medium">لا</span>
                                </label>
                            </div>
                                    
                                    <div id="building-permit-upload" class="hidden">
                                        <div class="border-2 border-dashed border-purple-300 rounded-lg p-6 text-center hover:border-purple-400 transition-colors">
                                            <i class="fas fa-cloud-upload-alt text-purple-500 text-3xl mb-3"></i>
                                            <p class="text-gray-700 font-medium mb-2">رفع رخصة البناء</p>
                                            <input type="file" id="building-permit-file" name="buildingPermitFile" accept="image/*,.pdf" multiple
                                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                            <p class="text-sm text-gray-500 mt-2">يمكن رفع عدة صور أو ملف PDF</p>
                                            <div id="building-permit-preview" class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-4"></div>
                                        </div>
                                    </div>
                        </div>
                        
                                <!-- Question 3: Building Plans -->
                                <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                                    <div class="flex items-center mb-4">
                                        <i class="fas fa-drafting-compass text-purple-600 text-xl ml-3"></i>
                                        <h5 class="text-lg font-semibold text-gray-900">هل يوجد مخططات للمبنى؟</h5>
                                    </div>
                                    
                                    <div class="flex space-x-4 rtl:space-x-reverse mb-4">
                                        <label class="flex items-center cursor-pointer">
                                            <input type="radio" name="hasBuildingPlans" value="yes" onchange="toggleDocumentUpload('building-plans', this.value)"
                                                   class="w-5 h-5 text-purple-600 border-gray-300 focus:ring-purple-500">
                                            <span class="mr-2 text-gray-700 font-medium">نعم</span>
                                </label>
                                        <label class="flex items-center cursor-pointer">
                                            <input type="radio" name="hasBuildingPlans" value="no" onchange="toggleDocumentUpload('building-plans', this.value)"
                                                   class="w-5 h-5 text-purple-600 border-gray-300 focus:ring-purple-500">
                                            <span class="mr-2 text-gray-700 font-medium">لا</span>
                                </label>
                                    </div>
                                    
                                    <div id="building-plans-upload" class="hidden">
                                        <div class="border-2 border-dashed border-purple-300 rounded-lg p-6 text-center hover:border-purple-400 transition-colors">
                                            <i class="fas fa-cloud-upload-alt text-purple-500 text-3xl mb-3"></i>
                                            <p class="text-gray-700 font-medium mb-2">رفع المخططات</p>
                                            <input type="file" id="building-plans-file" name="buildingPlansFile" accept="image/*,.pdf" multiple
                                                   class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                            <p class="text-sm text-gray-500 mt-2">يمكن رفع عدة صور أو ملف PDF</p>
                                            <div id="building-plans-preview" class="mt-4 grid grid-cols-2 md:grid-cols-4 gap-4"></div>
                                        </div>
                                    </div>
                            </div>
                        </div>
                    </div>

                        <!-- Step 4: Project Details -->
                        <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                            <div class="flex items-center mb-6">
                                <div class="w-8 h-8 bg-orange-600 text-white rounded-full flex items-center justify-center text-sm font-bold">4</div>
                                <h4 class="text-xl font-semibold text-gray-900 mr-3">الجدول الزمني والميزانية</h4>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="space-y-2">
                                    <label for="project-budget" class="block text-sm font-medium text-gray-700">الميزانية المقدرة ($) *</label>
                                    <input type="number" id="project-budget" name="budget" required min="10000" 
                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors"
                                           placeholder="مثال: 250000">
                                    <p class="text-xs text-gray-500">إجمالي الميزانية المقدرة للمشروع بالكامل</p>
                            </div>
                            
                                <div class="space-y-2">
                                    <label for="project-timeline" class="block text-sm font-medium text-gray-700">الجدول الزمني المتوقع *</label>
                                    <select id="project-timeline" name="timeline" required 
                                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors">
                                        <option value="">اختر الجدول الزمني</option>
                                        <option value="1-3 months">1-3 أشهر</option>
                                        <option value="3-6 months">3-6 أشهر</option>
                                        <option value="6-12 months">6-12 شهر</option>
                                        <option value="1-2 years">1-2 سنة</option>
                                        <option value="2+ years">أكثر من سنتين</option>
                                </select>
                            </div>
                        </div>
                        
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-6">
                                <div class="space-y-2">
                                    <label for="start-date" class="block text-sm font-medium text-gray-700">تاريخ البداية المفضل</label>
                                    <input type="date" id="start-date" name="startDate" min="2024-01-01" 
                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors">
                        </div>
                        
                                <div class="space-y-2">
                                    <label for="contact-preference" class="block text-sm font-medium text-gray-700">طريقة التواصل المفضلة *</label>
                                    <select id="contact-preference" name="contactPreference" required 
                                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors">
                                        <option value="">اختر طريقة التواصل</option>
                                        <option value="email">البريد الإلكتروني</option>
                                        <option value="phone">مكالمة هاتفية</option>
                                        <option value="both">البريد الإلكتروني والهاتف</option>
                                    </select>
                                </div>
                        </div>
                        
                            <div class="mt-6 space-y-2">
                                <label for="project-description" class="block text-sm font-medium text-gray-700">وصف إضافي للمشروع</label>
                                <textarea id="project-description" name="description" rows="4" 
                                          class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-colors resize-none"
                                          placeholder="اوصف رؤيتك وتفضيلاتك المعمارية والمتطلبات المحددة وتوقعات الجودة، إلخ."></textarea>
                                <p class="text-xs text-gray-500">أي تفاصيل إضافية ستساعد المهندسين على فهم مشروعك</p>
                        </div>
                    </div>

                        <!-- Step 5: Engineer Selection -->
                        <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
                            <div class="flex items-center mb-6">
                                <div class="w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center text-sm font-bold">5</div>
                                <h4 class="text-xl font-semibold text-gray-900 mr-3">اختيار مهندس المشروع</h4>
                            </div>
                            
                            <div class="bg-white rounded-lg p-6 border border-gray-200 shadow-sm">
                                <div class="text-center mb-6">
                                    <i class="fas fa-exclamation-triangle text-yellow-500 text-3xl mb-3"></i>
                                    <h5 class="text-lg font-semibold text-gray-900 mb-2">اختيار المهندس مطلوب</h5>
                                    <p class="text-gray-600">يجب عليك اختيار مهندس لقيادة مشروعك. يرجى تصفح المهندسين المتاحين أولاً إذا لم تكن قد فعلت ذلك بالفعل.</p>
                                </div>
                                
                                <div id="selected-engineer-display" class="hidden">
                                    <div class="flex items-center justify-between bg-green-50 border border-green-200 rounded-lg p-4">
                                        <div class="flex items-center space-x-4 rtl:space-x-reverse">
                                            <img id="selected-engineer-photo" class="w-16 h-16 rounded-full object-cover border-2 border-green-500 hidden" alt="صورة المهندس">
                                            <div id="selected-engineer-photo-default" class="w-16 h-16 bg-green-500 rounded-full flex items-center justify-center text-white text-2xl">
                                        <i class="fas fa-user"></i>
                                    </div>
                                            <div>
                                                <h6 id="selected-engineer-name" class="font-semibold text-gray-900">اسم المهندس</h6>
                                                <p id="selected-engineer-experience" class="text-sm text-gray-600">الخبرة: 0 سنة</p>
                                                <p id="selected-engineer-skills" class="text-sm text-gray-600">المهارات: غير محدد</p>
                                    </div>
                                </div>
                                        <button type="button" onclick="changeEngineerSelection()" 
                                                class="px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors">
                                            <i class="fas fa-edit ml-2"></i>تغيير المهندس
                                </button>
                                    </div>
                            </div>
                            
                                <div id="no-engineer-selected" class="text-center">
                                    <div class="border-2 border-dashed border-gray-300 rounded-lg p-8">
                                        <i class="fas fa-info-circle text-gray-400 text-3xl mb-3"></i>
                                        <p class="text-gray-600 mb-4">لم يتم اختيار مهندس بعد</p>
                                        <button type="button" onclick="browseEngineersFromForm()" 
                                                class="px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors">
                                            <i class="fas fa-search ml-2"></i>تصفح المهندسين
                                </button>
                                    </div>
                            </div>
                            
                            <input type="hidden" id="selected-engineer-id" name="selectedEngineerId" required>
                        </div>
                    </div>
                </form>
            </div>

                <!-- Modal Footer -->
                <div class="bg-gray-50 px-6 py-4 flex justify-end space-x-3 rtl:space-x-reverse">
                    <button onclick="closeProjectForm()" 
                            class="px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors">
                        <i class="fas fa-times ml-2"></i>إلغاء
                </button>
                    <button onclick="submitProject()" 
                            class="px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all">
                        <i class="fas fa-save ml-2"></i>إنشاء المشروع
                </button>
                </div>
            </div>
        </div>
    </div>

    <!-- CV Preview Modal -->
    <div id="cv-preview-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-file-alt"></i> CV Preview</h3>
                <button class="modal-close" onclick="closeCVPreview()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="cv-preview-content">
                    <div class="loading-spinner">
                        <i class="fas fa-spinner fa-spin"></i>
                        <p>Loading CV...</p>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeCVPreview()">
                    <i class="fas fa-times"></i> Close
                </button>
                <button id="cv-download-from-modal" class="btn btn-primary" onclick="downloadFile(this.getAttribute('data-file-path'))">
                    <i class="fas fa-download"></i> Download
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>مشروع بناء الويب</h3>
                    <p>تطبيق ويب حديث مع قاعدة بيانات JSON</p>
                </div>
                
                <div class="footer-section">
                    <h3>روابط سريعة</h3>
                    <ul class="footer-links">
                        <li><a href="#home">الرئيسية</a></li>
                        <li><a href="#about">حول</a></li>
                        <li><a href="#blog">المدونة</a></li>
                        <li><a href="#contact">اتصل بنا</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3>تواصل معنا</h3>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-github"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2024 مشروع بناء الويب. جميع الحقوق محفوظة.</p>
            </div>
        </div>
    </footer>

    <!-- User CRUD Modals -->
    
    <!-- Add/Edit User Modal -->
    <div id="user-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="user-modal-title">
                    <i class="fas fa-user-plus"></i> إضافة مستخدم جديد
                </h3>
                <button class="modal-close" onclick="closeUserModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="user-form" onsubmit="saveUser(event)">
                    <input type="hidden" id="user-id" name="id">
                    
                    <div class="form-group">
                        <label for="user-username">اسم المستخدم *</label>
                        <input type="text" id="user-username" name="username" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="user-email">البريد الإلكتروني *</label>
                        <input type="email" id="user-email" name="email" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="user-password">كلمة المرور *</label>
                        <input type="password" id="user-password" name="password" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="user-role">الدور *</label>
                        <select id="user-role" name="role" required onchange="toggleRoleFields()">
                            <option value="">اختر الدور</option>
                            <option value="admin">مدير</option>
                            <option value="engineer">مهندس</option>
                            <option value="client">عميل</option>
                        </select>
                    </div>
                    
                    <!-- Engineer-specific fields -->
                    <div id="engineer-fields" class="engineer-fields" style="display: none;">
                        <div class="form-group">
                            <label for="user-experience">الخبرة (سنوات)</label>
                            <input type="number" id="user-experience" name="experience" min="0" max="50">
                        </div>
                        
                        <div class="form-group">
                            <label for="user-skills">المهارات (مفصولة بفواصل)</label>
                            <input type="text" id="user-skills" name="skills" placeholder="مثال: البناء، العمارة، الهندسة">
                        </div>
                        
                        <div class="form-group">
                            <label for="user-bio">نبذة شخصية</label>
                            <textarea id="user-bio" name="bio" rows="3" placeholder="أخبرنا عن نفسك..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="user-projects">المشاريع السابقة</label>
                            <textarea id="user-projects" name="projects" rows="3" placeholder="اوصف مشاريعك السابقة..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="user-photo">صورة الملف الشخصي</label>
                            <input type="file" id="user-photo" name="photo" accept="image/*">
                            <div class="form-help">الحد الأقصى: 5 ميجابايت. الصيغ المدعومة: JPG, PNG, GIF</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="user-cv">السيرة الذاتية</label>
                            <input type="file" id="user-cv" name="cv" accept=".pdf,.doc,.docx">
                            <div class="form-help">الحد الأقصى: 10 ميجابايت. الصيغ المدعومة: PDF, DOC, DOCX</div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeUserModal()">إلغاء</button>
                <button type="submit" form="user-form" class="btn btn-primary">
                    <i class="fas fa-save"></i> حفظ المستخدم
                </button>
            </div>
        </div>
    </div>
    
    <!-- Delete User Confirmation Modal -->
    <div id="delete-user-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-exclamation-triangle text-red-500"></i> تأكيد الحذف
                </h3>
                <button class="modal-close" onclick="closeDeleteUserModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <p>هل أنت متأكد من أنك تريد حذف هذا المستخدم؟</p>
                <div id="delete-user-info" class="bg-red-50 border border-red-200 rounded-lg p-4 mt-4">
                    <!-- User info will be populated here -->
                </div>
                <p class="text-red-600 font-semibold mt-4">لا يمكن التراجع عن هذا الإجراء!</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeDeleteUserModal()">إلغاء</button>
                <button type="button" class="btn btn-danger" onclick="confirmDeleteUser()">
                    <i class="fas fa-trash"></i> حذف المستخدم
                </button>
            </div>
        </div>
    </div>
    
    <!-- View User Details Modal -->
    <div id="view-user-modal" class="modal" style="display: none;">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-user"></i> User Details
                </h3>
                <button class="modal-close" onclick="closeViewUserModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div id="user-details-content">
                    <!-- User details will be populated here -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeViewUserModal()">Close</button>
                <button type="button" class="btn btn-primary" onclick="editUserFromView()">
                    <i class="fas fa-edit"></i> Edit User
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="starter.js"></script>
</body>
</html>
